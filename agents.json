{
  "$schema": "./agents.schema.json",
  "description": "Agent configuration for Plan Cascade multi-agent collaboration",
  "default_agent": "claude-code",
  "agents": {
    "claude-code": {
      "type": "task-tool",
      "description": "Claude Code Task tool (built-in)",
      "subagent_type": "general-purpose"
    },
    "codex": {
      "type": "cli",
      "description": "OpenAI Codex CLI agent",
      "command": "codex",
      "args": ["--prompt", "{prompt}"],
      "working_dir": "{working_dir}",
      "timeout": 600,
      "env": {}
    },
    "amp-code": {
      "type": "cli",
      "description": "Amp Code CLI agent",
      "command": "amp",
      "args": ["run", "--prompt", "{prompt}"],
      "working_dir": "{working_dir}",
      "timeout": 600,
      "env": {}
    },
    "aider": {
      "type": "cli",
      "description": "Aider AI pair programming assistant",
      "command": "aider",
      "args": ["--message", "{prompt}", "--yes"],
      "working_dir": "{working_dir}",
      "timeout": 600,
      "env": {}
    },
    "cursor-cli": {
      "type": "cli",
      "description": "Cursor CLI agent",
      "command": "cursor",
      "args": ["--prompt", "{prompt}"],
      "working_dir": "{working_dir}",
      "timeout": 600,
      "env": {}
    },
    "claude-cli": {
      "type": "cli",
      "description": "Claude CLI (standalone)",
      "command": "claude",
      "args": ["-p", "{prompt}"],
      "working_dir": "{working_dir}",
      "timeout": 600,
      "env": {}
    }
  },
  "phase_defaults": {
    "planning": {
      "default_agent": "codex",
      "fallback_chain": ["claude-code"]
    },
    "implementation": {
      "default_agent": "claude-code",
      "fallback_chain": ["codex", "aider"],
      "story_type_overrides": {
        "refactor": "aider",
        "bugfix": "codex"
      }
    },
    "retry": {
      "default_agent": "claude-code",
      "fallback_chain": ["aider"]
    },
    "refactor": {
      "default_agent": "aider",
      "fallback_chain": ["claude-code"]
    },
    "review": {
      "default_agent": "claude-code",
      "fallback_chain": ["codex"]
    }
  },
  "story_type_defaults": {
    "feature": "claude-code",
    "bugfix": "codex",
    "refactor": "aider",
    "test": "claude-code",
    "documentation": "claude-code",
    "infrastructure": "claude-code"
  },
  "verification_gate": {
    "enabled": true,
    "type": "task-tool",
    "subagent_type": "general-purpose",
    "confidence_threshold": 0.7,
    "timeout": 120,
    "skeleton_detection": {
      "patterns": ["pass", "...", "NotImplementedError", "TODO", "FIXME", "implement later", "stub"],
      "strict": true
    }
  }
}
